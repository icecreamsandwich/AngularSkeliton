<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <h2>Registration</h2>
  <div *ngIf="message" class="alert-success">
    <span>{{message}}
      <a [routerLink]="['/login']" routerLinkActive="router-link-active"> <button> Login here</button></a>
    </span>
  </div>
  

  <form *ngIf="!message" #signupForm="ngForm" appIdentityRevealed class="signup_form" name="signup_form"
    (ngSubmit)="signUp()" method="post" #f="ngForm" novalidate>
    <div class="imgcontainer">
      <img src="assets/img/img_avatar2.png" alt="Avatar" class="avatar">
    </div>

    <div class="container">
      <label for="username"><b>Username</b></label>
      <input type="text" placeholder="Enter Username" id="username" name="username" required
        [(ngModel)]="signup.username" #username="ngModel">
        <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">
          <div *ngIf="username.errors.required">
            Username is required.
          </div>
        </div>
        
      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Enter Email" id="email" name="email" required email [(ngModel)]="signup.email"
        #email="ngModel">
        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
          <div *ngIf="email.errors.required">
            Email is required.
          </div>
          <div *ngIf="email.errors.email">
            Email must be a valid email address.
          </div>
        </div>
        
      <label for="password"><b>Password</b></label>
      <input type="password" placeholder="Enter Password" name="password" required [(ngModel)]="signup.password"
        #password="ngModel">
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
          <div *ngIf="password.errors.required">
            Password is required.
          </div>
        </div>
      <br />
      <label for="role"><b>Role</b></label>
      <select class="select" name="role" required [(ngModel)]="signup.role" #role="ngModel">
        <option *ngFor="let role of roles">
          {{role.name}}
        </option>
      </select>
      <button type="submit">Register</button>
      <a [routerLink]="['/login']" routerLinkActive="router-link-active"> <button> Go to Login</button></a>
    </div>

  </form>


</body>

</html>