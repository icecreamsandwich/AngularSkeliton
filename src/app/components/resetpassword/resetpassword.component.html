<!DOCTYPE html>
<html>

<body>
    <div *ngIf="message" class="alert-danger">
        <h4>{{message}}</h4>
    </div>
    <div *ngIf="success_message" class="alert-success">
        <h4>{{success_message}}</h4>
    </div>
    <form #userForm="ngForm" appIdentityRevealed *ngIf="!submitted" name="form"
        (ngSubmit)="f.form.valid && changePassword()" #f="ngForm" novalidate>
        <div class="submit-form">
            <div class="form-group">
                <label for="username">User Name</label>
                <input type="text" id="username" name="username" class="form-control" required [(ngModel)]="user.username"
                    #username="ngModel" />

                <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">

                    <div *ngIf="username.errors.required">
                        User Name is required.
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="password">Current Password</label>
                <input type="password" class="form-control" id="password" name="password" required [(ngModel)]="user.password"
                    #password="ngModel" />

                <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
                    <div *ngIf="password.errors.required">
                        Password is required.
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="newpassword">New Password</label>
                <input type="password" class="form-control" id="newpassword" name="newpassword" required [(ngModel)]="user.newpassword"
                    #newpassword="ngModel" />

                <div *ngIf="newpassword.invalid && (newpassword.dirty || newpassword.touched)" class="alert alert-danger">
                    <div *ngIf="newpassword.errors.required">
                        New Password is required.
                    </div>
                </div>
            </div>
            <button [disabled]="userForm.invalid" type="submit" class="btn btn-success">Submit</button>
            <button (click)="userForm.resetForm({})" type="button" class="btn btn-default">Reset</button>
        </div>
    </form>
    
</body>

</html>